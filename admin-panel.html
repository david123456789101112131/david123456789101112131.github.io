<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×¤×× ×œ × ×™×”×•×œ - ×¢×˜×¨×” ×”×—×œ×§×•×ª</title>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Rubik', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .admin-header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .admin-header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .admin-header p {
            opacity: 0.8;
            font-size: 16px;
        }

        .admin-container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
        }

        /* ×”×ª×—×‘×¨×•×ª */
        .login-section {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            text-align: center;
            max-width: 400px;
            margin: 50px auto;
        }

        .login-section h2 {
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 24px;
        }

        .login-form .form-group {
            position: relative;
            margin-bottom: 20px;
        }

        .login-form input {
            width: 100%;
            padding: 15px 50px 15px 15px;
            border: 2px solid #ecf0f1;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .login-form input:focus {
            border-color: #3498db;
            outline: none;
        }

        .login-form i {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #7f8c8d;
        }

        .admin-btn {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .admin-btn:hover {
            background: linear-gradient(45deg, #2980b9, #1f4e79);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52,152,219,0.3);
        }

        .admin-btn.full-width {
            width: 100%;
        }

        /* ×ª×•×›×Ÿ ×”×¤×× ×œ */
        .admin-main {
            display: none;
        }

        .admin-tabs {
            display: flex;
            background: white;
            border-radius: 15px 15px 0 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .tab-btn {
            background: none;
            border: none;
            padding: 20px 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            color: #7f8c8d;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
            flex: 1;
        }

        .tab-btn.active {
            color: #2c3e50;
            background: #f8f9fa;
            border-bottom-color: #3498db;
        }

        .tab-btn:hover {
            background: #ecf0f1;
        }

        .tab-content {
            display: none;
            background: white;
            padding: 30px;
            border-radius: 0 0 15px 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .tab-content.active {
            display: block;
        }

        .tab-content h3 {
            color: #2c3e50;
            margin-bottom: 25px;
            font-size: 22px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }

        /* × ×™×”×•×œ ×©×¢×•×ª */
        .hours-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .day-schedule {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #e9ecef;
            transition: all 0.3s ease;
        }

        .day-schedule:hover {
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }

        .day-schedule h4 {
            color: #2c3e50;
            margin-bottom: 15px;
            text-align: center;
            font-size: 18px;
            padding: 10px;
            background: white;
            border-radius: 8px;
        }

        .time-inputs {
            display: grid;
            grid-template-columns: auto 1fr auto 1fr;
            gap: 10px;
            align-items: center;
            margin-bottom: 15px;
        }

        .time-inputs label {
            font-weight: 500;
            color: #34495e;
        }

        .time-inputs input {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        .time-inputs input:focus {
            border-color: #3498db;
            outline: none;
        }

        /* ××ª×’ ×”×¤×¢×œ×”/×›×™×‘×•×™ */
        .toggle-switch {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            cursor: pointer;
        }

        .toggle-switch input {
            display: none;
        }

        .toggle-switch .slider {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
            background: #ccc;
            border-radius: 15px;
            transition: all 0.3s;
        }

        .toggle-switch .slider::before {
            content: "";
            position: absolute;
            height: 26px;
            width: 26px;
            left: 2px;
            top: 2px;
            background: white;
            border-radius: 50%;
            transition: all 0.3s;
        }

        .toggle-switch input:checked + .slider {
            background: #3498db;
        }

        .toggle-switch input:checked + .slider::before {
            transform: translateX(30px);
        }

        /* × ×™×”×•×œ ×ª××¨×™×›×™× */
        .dates-management {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .date-block {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid #e9ecef;
        }

        .date-block h4 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 18px;
        }

        .date-block input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-bottom: 15px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .date-block input:focus {
            border-color: #3498db;
            outline: none;
        }

        .blocked-dates {
            grid-column: 1 / -1;
            background: #fff3cd;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #ffeaa7;
            margin-top: 20px;
        }

        .blocked-dates h4 {
            color: #856404;
            margin-bottom: 15px;
        }

        .blocked-date-item {
            display: inline-block;
            background: #e74c3c;
            color: white;
            padding: 8px 15px;
            margin: 5px;
            border-radius: 20px;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .blocked-date-item:hover {
            background: #c0392b;
            transform: scale(1.05);
        }

        .blocked-date-item .remove-date {
            margin-left: 10px;
            cursor: pointer;
            font-weight: bold;
            font-size: 16px;
        }

        /* ×ª×•×¨×™× ×§×™×™××™× */
        .appointments-filter {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            align-items: center;
            flex-wrap: wrap;
        }

        .appointments-filter input {
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .appointments-filter input:focus {
            border-color: #3498db;
            outline: none;
        }

        .appointments-list {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            min-height: 300px;
        }

        .appointment-item {
            background: white;
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 10px;
            border-left: 4px solid #3498db;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .appointment-item:hover {
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transform: translateX(5px);
        }

        .appointment-details h5 {
            color: #2c3e50;
            margin-bottom: 8px;
            font-size: 18px;
        }

        .appointment-details p {
            color: #7f8c8d;
            margin: 3px 0;
            font-size: 14px;
        }

        .appointment-actions {
            display: flex;
            gap: 10px;
        }

        .appointment-actions button {
            padding: 8px 15px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .confirm-btn {
            background: #27ae60;
            color: white;
        }

        .confirm-btn:hover {
            background: #219a52;
            transform: scale(1.05);
        }

        .cancel-btn {
            background: #e74c3c;
            color: white;
        }

        .cancel-btn:hover {
            background: #c0392b;
            transform: scale(1.05);
        }

        /* ×›×¤×ª×•×¨×™× ××™×•×—×“×™× */
        .admin-btn.save-btn {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            width: 100%;
            margin-top: 20px;
            padding: 18px;
            font-size: 18px;
        }

        .admin-btn.block-btn {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
        }

        .admin-btn.unblock-btn {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
        }

        /* ×¡×˜×˜×™×¡×˜×™×§×•×ª */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-card i {
            font-size: 40px;
            color: #3498db;
            margin-bottom: 15px;
        }

        .stat-card h4 {
            color: #2c3e50;
            font-size: 24px;
            margin-bottom: 5px;
        }

        .stat-card p {
            color: #7f8c8d;
            font-size: 14px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .admin-container {
                padding: 0 10px;
                margin: 20px auto;
            }

            .admin-tabs {
                flex-direction: column;
            }

            .tab-btn {
                text-align: center;
            }

            .hours-grid {
                grid-template-columns: 1fr;
            }

            .dates-management {
                grid-template-columns: 1fr;
            }

            .time-inputs {
                grid-template-columns: 1fr 1fr;
                gap: 5px;
            }

            .appointments-filter {
                flex-direction: column;
                align-items: stretch;
            }

            .appointment-item {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }

            .appointment-actions {
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .login-section {
                margin: 20px auto;
                padding: 30px 20px;
            }

            .tab-content {
                padding: 20px;
            }

            .day-schedule {
                padding: 15px;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="admin-header">
        <h1>ğŸ”§ ×¤×× ×œ × ×™×”×•×œ - ×¢×˜×¨×” ×”×—×œ×§×•×ª</h1>
        <p>× ×™×”×•×œ ×©×¢×•×ª ×¤×¢×™×œ×•×ª, ×ª××¨×™×›×™× ×—×¡×•××™× ×•×ª×•×¨×™× ×§×™×™××™×</p>
        <div style="margin-top: 15px;">
            <button class="admin-btn" onclick="window.open('×¢×˜×¨×” ×”×—×œ×§×•×ª.html', '_blank')" style="margin: 5px;">
                ğŸ  ×—×–×•×¨ ×œ××ª×¨ ×”×¨××©×™
            </button>
            <div style="margin-top: 10px; font-size: 14px; opacity: 0.8;">
                âœ… ×›×œ ×”×©×™× ×•×™×™× ×›××Ÿ ×™×©×¤×™×¢×• ×™×©×™×¨×•×ª ×¢×œ ××¢×¨×›×ª ×”×–×× ×ª ×”×ª×•×¨×™× ×‘××ª×¨ ×”×¨××©×™
            </div>
        </div>
    </div>

    <div class="admin-container">
        <!-- ×”×ª×—×‘×¨×•×ª -->
        <div class="login-section" id="login-section">
            <h2>ğŸ” ×›× ×™×¡×ª ×× ×”×œ×™×</h2>
            <div class="login-form">
                <div class="form-group">
                    <input type="password" id="admin-password" placeholder="×”×–×Ÿ ×¡×™×¡××”">
                    <i class="fas fa-key"></i>
                </div>
                <button class="admin-btn full-width" onclick="adminLogin()">×›× ×™×¡×” ×œ×¤×× ×œ</button>
            </div>
        </div>

        <!-- ×ª×•×›×Ÿ ×”×¤×× ×œ -->
        <div class="admin-main" id="admin-main">
            <!-- ×¡×˜×˜×™×¡×˜×™×§×•×ª ××”×™×¨×•×ª -->
            <div class="stats-grid">
                <div class="stat-card">
                    <i class="fas fa-calendar-check"></i>
                    <h4 id="today-appointments">0</h4>
                    <p>×ª×•×¨×™× ×”×™×•×</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-calendar-week"></i>
                    <h4 id="week-appointments">0</h4>
                    <p>×ª×•×¨×™× ×”×©×‘×•×¢</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-ban"></i>
                    <h4 id="blocked-days">0</h4>
                    <p>×™××™× ×—×¡×•××™×</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-clock"></i>
                    <h4 id="business-hours">9:00-19:00</h4>
                    <p>×©×¢×•×ª ×¤×¢×™×œ×•×ª</p>
                </div>
            </div>

            <!-- ×˜××‘×™× -->
            <div class="admin-tabs">
                <button class="tab-btn active" onclick="showTab('hours')">ğŸ• × ×™×”×•×œ ×©×¢×•×ª</button>
                <button class="tab-btn" onclick="showTab('dates')">ğŸ“… × ×™×”×•×œ ×ª××¨×™×›×™×</button>
                <button class="tab-btn" onclick="showTab('appointments')">ğŸ“‹ ×ª×•×¨×™× ×§×™×™××™×</button>
            </div>

            <!-- × ×™×”×•×œ ×©×¢×•×ª -->
            <div class="tab-content active" id="hours-tab">
                <h3>× ×™×”×•×œ ×©×¢×•×ª ×¤×¢×™×œ×•×ª</h3>
                <div class="hours-grid">
                    <div class="day-schedule">
                        <h4>×¨××©×•×Ÿ</h4>
                        <div class="time-inputs">
                            <label>×¤×ª×™×—×”:</label>
                            <input type="time" id="sun-open" value="09:00">
                            <label>×¡×’×™×¨×”:</label>
                            <input type="time" id="sun-close" value="19:00">
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="sun-active" checked>
                            <span class="slider"></span>
                            <span>×™×•× ×¤×¢×™×œ</span>
                        </label>
                    </div>
                    <div class="day-schedule">
                        <h4>×©× ×™</h4>
                        <div class="time-inputs">
                            <label>×¤×ª×™×—×”:</label>
                            <input type="time" id="mon-open" value="09:00">
                            <label>×¡×’×™×¨×”:</label>
                            <input type="time" id="mon-close" value="19:00">
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="mon-active" checked>
                            <span class="slider"></span>
                            <span>×™×•× ×¤×¢×™×œ</span>
                        </label>
                    </div>
                    <div class="day-schedule">
                        <h4>×©×œ×™×©×™</h4>
                        <div class="time-inputs">
                            <label>×¤×ª×™×—×”:</label>
                            <input type="time" id="tue-open" value="09:00">
                            <label>×¡×’×™×¨×”:</label>
                            <input type="time" id="tue-close" value="19:00">
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="tue-active" checked>
                            <span class="slider"></span>
                            <span>×™×•× ×¤×¢×™×œ</span>
                        </label>
                    </div>
                    <div class="day-schedule">
                        <h4>×¨×‘×™×¢×™</h4>
                        <div class="time-inputs">
                            <label>×¤×ª×™×—×”:</label>
                            <input type="time" id="wed-open" value="09:00">
                            <label>×¡×’×™×¨×”:</label>
                            <input type="time" id="wed-close" value="19:00">
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="wed-active" checked>
                            <span class="slider"></span>
                            <span>×™×•× ×¤×¢×™×œ</span>
                        </label>
                    </div>
                    <div class="day-schedule">
                        <h4>×—××™×©×™</h4>
                        <div class="time-inputs">
                            <label>×¤×ª×™×—×”:</label>
                            <input type="time" id="thu-open" value="09:00">
                            <label>×¡×’×™×¨×”:</label>
                            <input type="time" id="thu-close" value="19:00">
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="thu-active" checked>
                            <span class="slider"></span>
                            <span>×™×•× ×¤×¢×™×œ</span>
                        </label>
                    </div>
                    <div class="day-schedule">
                        <h4>×©×™×©×™</h4>
                        <div class="time-inputs">
                            <label>×¤×ª×™×—×”:</label>
                            <input type="time" id="fri-open" value="09:00">
                            <label>×¡×’×™×¨×”:</label>
                            <input type="time" id="fri-close" value="16:00">
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="fri-active" checked>
                            <span class="slider"></span>
                            <span>×™×•× ×¤×¢×™×œ</span>
                        </label>
                    </div>
                    <div class="day-schedule">
                        <h4>×©×‘×ª</h4>
                        <div class="time-inputs">
                            <label>×¤×ª×™×—×”:</label>
                            <input type="time" id="sat-open" value="20:00">
                            <label>×¡×’×™×¨×”:</label>
                            <input type="time" id="sat-close" value="23:00">
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="sat-active">
                            <span class="slider"></span>
                            <span>×™×•× ×¤×¢×™×œ</span>
                        </label>
                    </div>
                </div>
                <button class="admin-btn save-btn" onclick="saveHours()">ğŸ’¾ ×©××•×¨ ×©×¢×•×ª ×¤×¢×™×œ×•×ª</button>
            </div>

            <!-- × ×™×”×•×œ ×ª××¨×™×›×™× -->
            <div class="tab-content" id="dates-tab">
                <h3>× ×™×”×•×œ ×ª××¨×™×›×™× ×–××™× ×™×</h3>
                <div class="dates-management">
                    <div class="date-block">
                        <h4>ğŸš« ×—×¡×•× ×ª××¨×™×›×™×</h4>
                        <input type="date" id="block-date">
                        <button class="admin-btn block-btn" onclick="blockDate()">×—×¡×•× ×ª××¨×™×š</button>
                    </div>
                    <div class="date-block">
                        <h4>âœ… ×¤×ª×— ×ª××¨×™×›×™×</h4>
                        <input type="date" id="unblock-date">
                        <button class="admin-btn unblock-btn" onclick="unblockDate()">×¤×ª×— ×ª××¨×™×š</button>
                    </div>
                    <div class="blocked-dates">
                        <h4>ğŸ“… ×ª××¨×™×›×™× ×—×¡×•××™× ×›×¨×’×¢:</h4>
                        <div id="blocked-dates-list">
                            <!-- ×¨×©×™××ª ×ª××¨×™×›×™× ×—×¡×•××™× -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- ×ª×•×¨×™× ×§×™×™××™× -->
            <div class="tab-content" id="appointments-tab">
                <h3>×ª×•×¨×™× ×§×™×™××™× ×‘××¢×¨×›×ª</h3>
                <div class="appointments-filter">
                    <input type="date" id="appointments-date" onchange="loadAppointments()">
                    <button class="admin-btn" onclick="loadAppointments()">ğŸ” ×—×¤×© ×ª×•×¨×™×</button>
                    <button class="admin-btn" onclick="loadTodayAppointments()">ğŸ“… ×ª×•×¨×™× ×”×™×•×</button>
                </div>
                <div class="appointments-list" id="appointments-list">
                    <p style="text-align: center; color: #7f8c8d; padding: 50px;">×‘×—×¨ ×ª××¨×™×š ×œ×¦×¤×™×™×” ×‘×ª×•×¨×™×</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ×”×’×“×¨×•×ª
        const ADMIN_PASSWORD = "admin123"; // ×©× ×” ××ª ×–×”!
        let blockedDates = JSON.parse(localStorage.getItem('blockedDates') || '[]');
        let businessHours = JSON.parse(localStorage.getItem('businessHours') || '{}');
        
        // ×”×ª×—×‘×¨×•×ª ×× ×”×œ
        function adminLogin() {
            const password = document.getElementById('admin-password').value;
            if (password === ADMIN_PASSWORD) {
                document.getElementById('login-section').style.display = 'none';
                document.getElementById('admin-main').style.display = 'block';
                loadBlockedDates();
                loadBusinessHours();
                updateStats();
            } else {
                alert('×¡×™×¡××” ×©×’×•×™×”! × ×¡×” ×©×•×‘.');
                document.getElementById('admin-password').value = '';
            }
        }

        // ×”×•×¡×¤×ª ××¤×©×¨×•×ª ×›× ×™×¡×” ×¢× Enter
        document.getElementById('admin-password').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                adminLogin();
            }
        });
        
        // ×”×—×œ×¤×ª ×˜××‘×™×
        function showTab(tabName) {
            // ×”×¡×¨×ª active ××›×œ ×”×˜××‘×™×
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            // ×”×•×¡×¤×ª active ×œ×˜××‘ ×”× ×‘×—×¨
            event.target.classList.add('active');
            document.getElementById(tabName + '-tab').classList.add('active');
        }
        
        // ×©××™×¨×ª ×©×¢×•×ª ×¤×¢×™×œ×•×ª
        function saveHours() {
            const days = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];
            const hours = {};
            
            days.forEach(day => {
                hours[day] = {
                    active: document.getElementById(day + '-active').checked,
                    open: document.getElementById(day + '-open').value,
                    close: document.getElementById(day + '-close').value
                };
            });
            
            localStorage.setItem('businessHours', JSON.stringify(hours));
            updateStats();
            
            // ×”×•×“×¢×ª ×”×¦×œ×—×” ××¢×•×¦×‘×ª
            const btn = event.target;
            const originalText = btn.innerHTML;
            btn.innerHTML = 'âœ… × ×©××¨! ×”×©×¢×•×ª ×¢×•×“×›× ×• ×’× ×‘××ª×¨ ×”×¨××©×™';
            btn.style.background = 'linear-gradient(45deg, #27ae60, #2ecc71)';
            setTimeout(() => {
                btn.innerHTML = originalText;
                btn.style.background = 'linear-gradient(45deg, #27ae60, #2ecc71)';
            }, 3000);
        }
        
        // ×˜×¢×™× ×ª ×©×¢×•×ª ×¤×¢×™×œ×•×ª
        function loadBusinessHours() {
            if (Object.keys(businessHours).length === 0) return;
            
            Object.keys(businessHours).forEach(day => {
                const dayData = businessHours[day];
                if (document.getElementById(day + '-active')) {
                    document.getElementById(day + '-active').checked = dayData.active;
                    document.getElementById(day + '-open').value = dayData.open;
                    document.getElementById(day + '-close').value = dayData.close;
                }
            });
        }
        
        // ×—×¡×™××ª ×ª××¨×™×š
        function blockDate() {
            const date = document.getElementById('block-date').value;
            if (date && !blockedDates.includes(date)) {
                blockedDates.push(date);
                localStorage.setItem('blockedDates', JSON.stringify(blockedDates));
                loadBlockedDates();
                document.getElementById('block-date').value = '';
                updateStats();
                
                // ×”×•×“×¢×ª ×”×¦×œ×—×”
                alert(`âœ… ×”×ª××¨×™×š ${date} × ×—×¡× ×‘×”×¦×œ×—×”!\nğŸ”„ ×”×¢×“×›×•×Ÿ ×™×©×¤×™×¢ ×’× ×¢×œ ××¢×¨×›×ª ×”×–×× ×ª ×”×ª×•×¨×™× ×‘××ª×¨ ×”×¨××©×™`);
            } else if (blockedDates.includes(date)) {
                alert('âŒ ×”×ª××¨×™×š ×›×‘×¨ ×—×¡×•×!');
            }
        }
        
        // ×¤×ª×™×—×ª ×ª××¨×™×š
        function unblockDate() {
            const date = document.getElementById('unblock-date').value;
            if (date && blockedDates.includes(date)) {
                blockedDates = blockedDates.filter(d => d !== date);
                localStorage.setItem('blockedDates', JSON.stringify(blockedDates));
                loadBlockedDates();
                document.getElementById('unblock-date').value = '';
                updateStats();
                
                // ×”×•×“×¢×ª ×”×¦×œ×—×”
                alert(`âœ… ×”×ª××¨×™×š ${date} × ×¤×ª×— ×‘×”×¦×œ×—×”!\nğŸ”„ ×”×¢×“×›×•×Ÿ ×™×©×¤×™×¢ ×’× ×¢×œ ××¢×¨×›×ª ×”×–×× ×ª ×”×ª×•×¨×™× ×‘××ª×¨ ×”×¨××©×™`);
            } else {
                alert('âŒ ×”×ª××¨×™×š ×œ× ×—×¡×•×!');
            }
        }
        
        // ×˜×¢×™× ×ª ×ª××¨×™×›×™× ×—×¡×•××™×
        function loadBlockedDates() {
            const container = document.getElementById('blocked-dates-list');
            container.innerHTML = '';
            
            if (blockedDates.length === 0) {
                container.innerHTML = '<p style="color: #27ae60; text-align: center;">××™×Ÿ ×ª××¨×™×›×™× ×—×¡×•××™×</p>';
                return;
            }
            
            blockedDates.forEach(date => {
                const dateItem = document.createElement('span');
                dateItem.className = 'blocked-date-item';
                dateItem.innerHTML = `${date} <span class="remove-date" onclick="removeBlockedDate('${date}')">Ã—</span>`;
                container.appendChild(dateItem);
            });
        }
        
        // ×”×¡×¨×ª ×ª××¨×™×š ×—×¡×•×
        function removeBlockedDate(date) {
            if (confirm(`ğŸ¤” ×”×× ××ª×” ×‘×˜×•×— ×©×‘×¨×¦×•× ×š ×œ×¤×ª×•×— ××ª ×”×ª××¨×™×š ${date}?\n\n×”×ª××¨×™×š ×™×”×¤×•×š ×œ×–××™×Ÿ ×œ×§×‘×™×¢×ª ×ª×•×¨×™× ×‘××ª×¨ ×”×¨××©×™.`)) {
                blockedDates = blockedDates.filter(d => d !== date);
                localStorage.setItem('blockedDates', JSON.stringify(blockedDates));
                loadBlockedDates();
                updateStats();
                
                // ×”×•×“×¢×ª ×”×¦×œ×—×” ×¢× ×¢×™×›×•×‘ ×§×˜×Ÿ
                setTimeout(() => {
                    alert(`âœ… ×”×ª××¨×™×š ${date} × ×¤×ª×— ×‘×”×¦×œ×—×”!\nğŸ”„ ×”×¢×“×›×•×Ÿ ×™×©×¤×™×¢ ×’× ×¢×œ ××¢×¨×›×ª ×”×–×× ×ª ×”×ª×•×¨×™× ×‘××ª×¨ ×”×¨××©×™`);
                }, 100);
            }
        }
        
        // ×˜×¢×™× ×ª ×ª×•×¨×™× ×œ×”×™×•×
        function loadTodayAppointments() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('appointments-date').value = today;
            loadAppointments();
        }
        
        // ×˜×¢×™× ×ª ×ª×•×¨×™×
        function loadAppointments() {
            const date = document.getElementById('appointments-date').value;
            const container = document.getElementById('appointments-list');
            
            if (!date) {
                container.innerHTML = '<p style="text-align: center; color: #7f8c8d; padding: 50px;">×‘×—×¨ ×ª××¨×™×š ×œ×¦×¤×™×™×” ×‘×ª×•×¨×™×</p>';
                return;
            }
            
            // × ×ª×•× ×™× ×“××” - ×‘××¦×™××•×ª ×™×”×™×” ××—×•×‘×¨ ×œ××¡×“ × ×ª×•× ×™×
            const sampleAppointments = [
                {
                    id: 1,
                    name: '×©×¨×” ×›×”×Ÿ',
                    phone: '050-1234567',
                    service: '×”×—×œ×§×ª ×©×™×¢×¨',
                    time: '10:00',
                    status: 'confirmed',
                    email: 'sarah@example.com'
                },
                {
                    id: 2,
                    name: '×¨×—×œ ×œ×•×™',
                    phone: '052-9876543',
                    service: '×ª×¡×¤×•×¨×ª ×•×¢×™×¦×•×‘',
                    time: '14:00',
                    status: 'pending',
                    email: 'rachel@example.com'
                },
                {
                    id: 3,
                    name: '××™×¨×™ ××‘×¨×”×',
                    phone: '053-5555555',
                    service: '×¦×‘×¢ ×©×™×¢×¨',
                    time: '16:30',
                    status: 'confirmed',
                    email: 'miri@example.com'
                }
            ];
            
            container.innerHTML = '';
            
            if (sampleAppointments.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #7f8c8d; padding: 50px;">××™×Ÿ ×ª×•×¨×™× ×œ×ª××¨×™×š ×–×”</p>';
                return;
            }
            
            sampleAppointments.forEach(appointment => {
                const appointmentDiv = document.createElement('div');
                appointmentDiv.className = 'appointment-item';
                appointmentDiv.innerHTML = `
                    <div class="appointment-details">
                        <h5>ğŸ‘¤ ${appointment.name}</h5>
                        <p>ğŸ“ ${appointment.phone}</p>
                        <p>ğŸ“§ ${appointment.email}</p>
                        <p>ğŸ’„ ${appointment.service}</p>
                        <p>ğŸ• ${appointment.time}</p>
                        <p>ğŸ“Š ×¡×˜×˜×•×¡: ${appointment.status === 'confirmed' ? 'âœ… ×××•×©×¨' : 'â³ ×××ª×™×Ÿ ×œ××™×©×•×¨'}</p>
                    </div>
                    <div class="appointment-actions">
                        <button class="confirm-btn" onclick="confirmAppointment(${appointment.id})">âœ… ××©×¨</button>
                        <button class="cancel-btn" onclick="cancelAppointment(${appointment.id})">âŒ ×‘×˜×œ</button>
                    </div>
                `;
                container.appendChild(appointmentDiv);
            });
        }
        
        // ××™×©×•×¨ ×ª×•×¨
        function confirmAppointment(id) {
            if (confirm(`×”×× ××ª×” ×‘×˜×•×— ×©×‘×¨×¦×•× ×š ×œ××©×¨ ××ª ×”×ª×•×¨ ××¡×¤×¨ ${id}?`)) {
                alert(`×ª×•×¨ ××¡×¤×¨ ${id} ××•×©×¨ ×‘×”×¦×œ×—×”! × ×©×œ×— SMS ×œ×§×•×—×”.`);
                loadAppointments(); // ×¨×¢× ×•×Ÿ ×”×¨×©×™××”
            }
        }
        
        // ×‘×™×˜×•×œ ×ª×•×¨
        function cancelAppointment(id) {
            if (confirm('×”×× ××ª×” ×‘×˜×•×— ×©×‘×¨×¦×•× ×š ×œ×‘×˜×œ ××ª ×”×ª×•×¨? ×¤×¢×•×œ×” ×–×• ×œ× × ×™×ª× ×ª ×œ×‘×™×˜×•×œ.')) {
                alert(`×ª×•×¨ ××¡×¤×¨ ${id} ×‘×•×˜×œ! × ×©×œ×— SMS ×œ×§×•×—×” ×¢×œ ×”×‘×™×˜×•×œ.`);
                loadAppointments(); // ×¨×¢× ×•×Ÿ ×”×¨×©×™××”
            }
        }
        
        // ×¢×“×›×•×Ÿ ×¡×˜×˜×™×¡×˜×™×§×•×ª
        function updateStats() {
            // ×ª×•×¨×™× ×”×™×•× (×“××”)
            document.getElementById('today-appointments').textContent = Math.floor(Math.random() * 10) + 3;
            
            // ×ª×•×¨×™× ×”×©×‘×•×¢ (×“××”)
            document.getElementById('week-appointments').textContent = Math.floor(Math.random() * 50) + 20;
            
            // ×™××™× ×—×¡×•××™×
            document.getElementById('blocked-days').textContent = blockedDates.length;
            
            // ×©×¢×•×ª ×¤×¢×™×œ×•×ª
            const hours = JSON.parse(localStorage.getItem('businessHours') || '{}');
            if (hours.sun && hours.sun.active) {
                document.getElementById('business-hours').textContent = `${hours.sun.open}-${hours.sun.close}`;
            }
        }
        
        // ×˜×¢×™× ×” ×¨××©×•× ×™×ª
        document.addEventListener('DOMContentLoaded', function() {
            updateStats();
        });
    </script>
</body>
</html>
